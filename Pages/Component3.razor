@using MudBlazor
@using Gems.Enterprise.WebApp.FirstApplication.Models
@using System.Reflection

<MudItem xs="12" md="12">

    @if(_loadedProperties.Count > 0)
    {
        @foreach(var prop in _loadedProperties)
        {
            var value = bool.Parse(prop.GetValue(_Choices).ToString());

            <MudCheckBox T ="bool" Checked="@value" CheckedChanged="(v) => {prop.SetValue(_Choices, v); }" Label="@prop.Name"></MudCheckBox>
        }
    }
</MudItem>

@code {
    // Changing the name of the model would change the list of options available in the component
    private Options3 _Choices = new Options3();

    private List<PropertyInfo> _loadedProperties;

    protected override void OnInitialized()
    {
        _loadedProperties = _Choices.GetType().GetProperties().ToList();
        base.OnInitialized();
    }
}